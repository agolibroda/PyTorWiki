
  походу, пожалуй пришло время сделать табличку для мообщений, 
 должны же Авторы общаться между собой.. типа :-)

 кстати, нужно ли делать общение закрытым? да, по - идее, нужно.

 значит, для каждого диалога (???) стоит открыть новую пару РСА-ключей.
 публичный оно да, публичный, а вот прочитать сообщение можно только при поимении 
 закрытого ключа, да? значит что? каждому участнику диалога отдаем по собственной копии
 закрытого ключа куда его класть??? - надо посмотреть... - то есть, ИД диалога (??), 



-- нет необходимости делать редактирование диалогов - как создаи, так и пусть будет
-- зато диалог наверное можно удалить, правда, в диалоге 2 участника.... 
-- может, простоскрыть от первого участника, если он решил удалить,
-- и удалять диалог только посте того, как диалог решит удалить и второ участник??
-- Диалоги 
-- ИД диалога (из dt_headers)
-- участник_1
-- участник_2
-- приватный ключ_участник_1 - для того, что бы каждый из них мог читать сообщения.
-- приватный ключ_участник_2

-- алгоритмия:
-- - автор выбрал кореспондента, начал писать ему сообщеие, при отсыдке
-- проверим, если для Автора и корреспндента НЕТ диалога, то его надо создать,
-- Ежели диалог есть, тогда продолжим его.  

--  - создается новый диалог - РСА ключи для шифрования 
-- открытый и  закрытый ключи диалога храним в таблице "диалоги"
-- закрытый ключ диалога :-) закрываем используя "ОК" каждого из участников, 
-- и кладем в таблицу "диалоги"

-- - закрываем сообщение открытым ключем текущего диалога
-- - кладем сообщение в таблицу "сообщения"

-- Для того, что бы участник диалога мог прочитать сообщение, он должен открыть
-- его с помощью своей копии ЗК_диалога. (открыть копию ЗК_диалога можно своим Персональным_ЗК)



а в сообщеиях имеем - 
- ИД диалога;
- ИД кому 
- ИД родительского сообщения (твечаю на сообщение...)
- дата сообщения
- тема сообщеия
- текст сообщения


